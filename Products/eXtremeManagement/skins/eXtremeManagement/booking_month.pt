<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      i18n:domain="eXtremeManagement"
      metal:use-macro="here/main_template/macros/master">

    <head>
        <metal:block fill-slot="top_slot"
                     tal:define="dummy python:request.set('disable_border', 1)" />
    </head>

    <body>

    <tal:main metal:fill-slot="main">

         <p>
           <span i18n:translate="go_to_overview">
           Go to overview of
           </span> <a
           tal:attributes="href string:booking_year"
           i18n:translate="last_12_months">last 12 months</a>.
         </p>
         <tal:othermonths
             tal:define="contextlink string:${here/absolute_url}/${template/id}">
            <p tal:condition="not:request/previous|nothing">
              <tal:goto i18n:translate="go_to">
                Go to
              </tal:goto> <a
                tal:attributes="href string:${contextlink}?previous=1"
                i18n:translate="previous-month">previous month</a>.
            </p>
            <p tal:condition="request/previous|nothing">
              <tal:back i18n:translate="back_to">
                Back to
              </tal:back> <a
              tal:attributes="href string:${contextlink}"
              i18n:translate="current-month">current month</a>.
            </p>
         </tal:othermonths>

        <tal:block tal:define="current_path python:'/'.join(context.getPhysicalPath());
                               view context/@@bookings;
                               bookings view/summary_bookinglist"
                   tal:condition="bookings">
            <h1 i18n:translate="heading-bookings-per-day">Bookings per day for
                   this month</h1>
            
            <table border="1" 
                   class="listing" 
                   with="100%">
                <tr>
                    <th i18n:translate="listingheader-date">
                        Date
                    </th>
                    <th i18n:translate="listingheader-time">
                        Time
                    </th>
                </tr>
            
                <tr tal:repeat="booking bookings">
                <tal:block tal:define="date python:booking[0];
                                       time python:booking[1];">
                    <td tal:content="python:toLocalizedTime(date)">
                        2006-01-25
                    </td>
                    <td tal:content="time">
                        4:45
                    </td>
                </tal:block>
                </tr>
                <tr>
                    <th i18n:translate="listingheader-total">
                        Total
                    </th>
                    <th tal:content="view/total_actual" />
                </tr>
            </table>
        </tal:block>
    </tal:main>
    </body>
</html>

